<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add a fact table to a multistar — add_facts • geomultistar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add a fact table to a multistar — add_facts"><meta name="description" content="To add a fact table to a multistar object, we must indicate the name that
we give to the facts, the tibble that contains the data and a vector of
attribute names corresponding to the measures."><meta property="og:description" content="To add a fact table to a multistar object, we must indicate the name that
we give to the facts, the tibble that contains the data and a vector of
attribute names corresponding to the measures."><meta property="og:image" content="https://josesamos.github.io/geomultistar/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">geomultistar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/geomultistar.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/josesamos/geomultistar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add a fact table to a <code>multistar</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/josesamos/geomultistar/blob/master/R/multistar_add_facts.R" class="external-link"><code>R/multistar_add_facts.R</code></a></small>
      <div class="d-none name"><code>add_facts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>To add a fact table to a <code>multistar</code> object, we must indicate the name that
we give to the facts, the <code>tibble</code> that contains the data and a vector of
attribute names corresponding to the measures.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_facts</span><span class="op">(</span></span>
<span>  <span class="va">ms</span>,</span>
<span>  fact_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fact_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  measures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  agg_functions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nrow_agg <span class="op">=</span> <span class="st">"nrow_agg"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'multistar'</span></span>
<span><span class="fu">add_facts</span><span class="op">(</span></span>
<span>  <span class="va">ms</span>,</span>
<span>  fact_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fact_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  measures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  agg_functions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nrow_agg <span class="op">=</span> <span class="st">"nrow_agg"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ms">ms<a class="anchor" aria-label="anchor" href="#arg-ms"></a></dt>
<dd><p>A <code>multistar</code> object.</p></dd>


<dt id="arg-fact-name">fact_name<a class="anchor" aria-label="anchor" href="#arg-fact-name"></a></dt>
<dd><p>A string, name of fact table.</p></dd>


<dt id="arg-fact-table">fact_table<a class="anchor" aria-label="anchor" href="#arg-fact-table"></a></dt>
<dd><p>A <code>tibble</code>, fact table.</p></dd>


<dt id="arg-measures">measures<a class="anchor" aria-label="anchor" href="#arg-measures"></a></dt>
<dd><p>A vector of measure names.</p></dd>


<dt id="arg-agg-functions">agg_functions<a class="anchor" aria-label="anchor" href="#arg-agg-functions"></a></dt>
<dd><p>A vector of aggregation function names. If none is
indicated, the default is SUM. Additionally they can be MAX or MIN.</p></dd>


<dt id="arg-nrow-agg">nrow_agg<a class="anchor" aria-label="anchor" href="#arg-nrow-agg"></a></dt>
<dd><p>A string, measurement name for the number of rows aggregated.
If it does not exist, it is added to the table.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>multistar</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Associated with each measurement, an aggregation function is required, which
by default is SUM. It that can be SUM, MAX or MIN. Mean is not considered
among the possible aggregation functions: The reason is that calculating the
mean by considering subsets of data does not necessarily yield the mean of
the total data.</p>
<p>An additional measurement, <code>nrow_agg</code>, corresponding to the number of
aggregated rows is always added which, together with SUM, allows us to obtain
the mean if needed. As the value of this parameter, you can specify an
attribute of the table or the name that you want to assign to it (if it does
not exist, it is added to the table).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other multistar functions:
<code><a href="add_dimension.html">add_dimension</a>()</code>,
<code><a href="multistar.html">multistar</a>()</code>,
<code><a href="relate_dimension.html">relate_dimension</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ms</span> <span class="op">&lt;-</span> <span class="fu"><a href="multistar.html">multistar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">add_facts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    fact_name <span class="op">=</span> <span class="st">"mrs_age"</span>,</span></span>
<span class="r-in"><span>    fact_table <span class="op">=</span> <span class="va">mrs_fact_age</span>,</span></span>
<span class="r-in"><span>    measures <span class="op">=</span> <span class="st">"n_deaths"</span>,</span></span>
<span class="r-in"><span>    nrow_agg <span class="op">=</span> <span class="st">"count"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">add_facts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    fact_name <span class="op">=</span> <span class="st">"mrs_cause"</span>,</span></span>
<span class="r-in"><span>    fact_table <span class="op">=</span> <span class="va">mrs_fact_cause</span>,</span></span>
<span class="r-in"><span>    measures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pneumonia_and_influenza_deaths"</span>, <span class="st">"other_deaths"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    nrow_agg <span class="op">=</span> <span class="st">"nrow_agg"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jose Samos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

